## 2. 자바 데이터 타입, 변수 그리고 배열

### 목표

자바의 프리미티브 타입, 변수 그리고 배열 사용하는 방법 익히기

### 학습 내용

- 프리미티브 타입 종류와 값의 범위 그리고 기본 값
- 프리미티브 타입과 레퍼런스 타입
- 리터럴
- 변수 선언 및 초기화하는 방법
- 변수의 스코프와 라이프타임
- 타입 변환, 캐스팅 그리고 타입 프로모션
- 1차 및 2차 배열 선언하기
- 타입 추론, var

#### 변수

값을 저장하는 메모리상의 공간

##### 선언

변수 타입, 변수 명을 지정하여 선언한다. 타입에 알맞은 크기의 저장공간이 확보되고, 변수 명을 통해 저장공간에 접근하다.

- 변수 타입: 저장될 값의 종류를 지정
- 변수 명: 값이 저장될 메모리 공간에 이름을 지정 

```java
int num; // int: 변수타입(정수) num: 변수명
```

##### 초기화

변수 사용하기 전 변수의 값을 저장하는 것

```java
int num = 1; // 정수형 변수 num을 선언하고 1로 초기화
```

##### 명명 규칙

- 대소문자 구분되며 길이 제한 없다
- 예약어(keyword) 사용하면 안된다
  - 키워드: 프로그래밍 언어의 구문에 사용되는 단어
- 숫자로 시작하면 안된다
- 특수문자는 _, $ 만을 허용

### 프리미티브 타입 종류와 값의 범위 그리고 기본 값

<img src="https://oopy.lazyrockets.com/api/v2/notion/image?src=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fee861769-0783-455d-b68f-e3212f00440b%2FUntitled.png&blockId=c4f9b19b-04a5-4936-b74e-2744c5e52112" alt="img" style="zoom:50%;" /> 

##### 자료형

데이터의 종류를 식별하는 분류로서, 자료형에 대한 가능한 값, 수행되는 명령들, 메모리 크기, 저장형식등을 결정한다

#### primitive type

값을 할당할 때 변수의 주소에 실제 값을 저장하는 자료형으로 JVM의 Stack 영역에 값이 저장된다.

**종류**

- 정수형
  - byte:1byte
  - short: 2B
  - int: 4B
  - long: 8B
- 실수형
  - float: 4B
  - double: 8B
- 문자형
  - char: '\u0000', 2B
  - Booelan: False, 1B

#### Reference Type

- 참조 자료형이라 불리며, 무한한 종류가 있다.
-  변수에 값이 저장되어 있는 주소를 값으로 가진다. 
  - heap 영역에 할당되므로 힙 영역에서의 주소를 값으로 한다
  - 주소 값은 스택에 저장, 실제 데이터는 힙 영역에 저장

- 주소를 값으로 가지므로 JVM의 주소 크기만큼의 크기를 가진다
  - 보통 4B

### 리터럴

#### 상수

constant, 즉 상수 또한 변수와 마찬가지로 값을 저장할 수 있는 공간이지만, 한 번 값을 저장하면 값을 변경할 수 없다는 차이점이 잇다

##### 선언

**final** 키워드를 앞에 붙여 선언. 선언과 동시에 초기화해야하며, 초기화 후에 값을 변경할 수 없다

```java
final int MAX_SPEED = 10; 
```

#### 리터럴

코드에서 사용되는 `10`, `12.3`, `"A"` 등과 같이 보통 상수라고 부르는 값 그 자체들을 지칭, 바꿀 수 없는 값을 **상수**라 지칭하였기 때문에 구분하기 위해 다른 이름으로 지칭하기 위해 사용

##### 예시

```java
26 // 10진법 정수 리터럴
032 // 8진법 정수 리터럴
0x1a // 16진법 정수 리터럴
0b1101 // 2진법 정수 리터럴
0.1; // 실수 리터럴
1E-1; // 실수 리터럴
0.1f // float 실수 리터럴
```

### 변수의 스코프와 라이프타임

#### scope

변수의 스코프란 해당 변수를 사용할 수 있는 영역 범위. 키워드와 선언된 블럭 위치에 의해 정해진다.

#### life time

변수가 메모리에서 살아 있는 기간

#### 변수의 종류

**클래스 변수**: 클래스 영역에 선언되는 변수로, 클래스가 메모리에 올라갈 때 생성되는 변수이다.

- `static` 키워드를 붙여 선언
- 클래스에 해당하는 모든 인스턴스에서 값을 공유한다
- 프로그램 종료시 까지 메모리에 존재

**인스턴스 변수**: 클래스 영역에 선언되는 변수로, 클래스의 인스턴스가 생성되었을 때 생성되는 변수이다.

- 인스턴스화한 객체가 메모리에서 사라질때까지 존재

```java
class ClassExample {
    static {
        // 클래스 변수 초기화
    }
    {
        // 인스턴스 변수 초기화
    }
}
```



**지역 변수**: 클래스 이외의 영역(메소드, 생성자, 초기화 블록 내부 등)에서 선언되는 변수로 변수 선언문이 수행될때 생성되는 변수이다.

- 블럭을 벗어나면 소멸
  - 메소드 안의 변수
  - for, while 등의 반복문 블럭 안에서 선언된 변수

### 타입 변환, 캐스팅 그리고 타입 프로모션

#### 타입 변환

형변환이라고 불리며, 프로그램내에서 서로 다른 타입간의 연산을 수행하는 경우, 타입을 일치시켜야 한다. 이 때 변수나 리터럴의 타입을 다른 타입으로 변환하는 것을 형변환이라고 한다.

- primitive type 변수에서는 boolean 값을 제외한 다른 타입들은 서로 형변환 가능
- primitive와 reference type간의 형변환은 불가능

![img](https://oopy.lazyrockets.com/api/v2/notion/image?src=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe36a4a76-76ee-47c2-8d6f-b2bcb8862864%2FUntitled.png&blockId=d0cc072a-5241-49d7-aa3b-cd1704b9dc78) 

##### 프로모션(묵시적 형변환)

작은 데이터 타입에서 큰 데이터 타입으로 형 변환. 자동 형변환

```java
int m = 30;
long l = m; // Promotion 수행 int -> long
```

##### 캐스팅(명시적 형 변환)

큰 데이터 타입에서 작은 데이터 타입으로 형 변환. 강제 형변환

`(type)operand`의 형태로 수행

```java
double d = 12.34;
int f = (int)d; // casting double -> int 
// 주의
short a = 7410; // 0b0001,1100,1111,0010
byte b = (byte) a; // 0b1111,0010 이 되어 음수가 된다
```

### 1차 및 2차 배열 선언하기

#### Array(배열)

<u>동일한 타입</u>의 데이터를 연속된 공간에 저장하기 위한 자료 구조

##### 선언

- `type[] name` 이나 `type name[];`으로 배열의 참조 변수 선언
- `new type[length]`를 통해 메모리 공간 할당

```java
int [] arr; // 배열에 접근하기 위해 참조 변수 선언
arr = new int[100]; // 배열의 실제 저장 공간 생성
int [] array = {0, 1, 2}; // 선언 및 초기화
int[] arra; // 변수 선언
Arrays.fill(arra,1); // 값 초기화
```

##### 2차 배열의 선언

```java
int [][] arr = new int [2][3]; // 선언과 할당 동시에 가능
```

### 타입 추론, var

#### 타입 추론(Type Inference)

데이터  타입을 소스코드에 명시하지 않아도, 컴파일 단계에서 컴파일러가 타입을 유추하여 정해주는 것 ex) javascript

- 자바 9까지는 generics 나 lambda에 대해서만 지원
- 10부터는 `var` 통해 사용 가능
- 주의 점
  - 지역 변수로만 사용가능, 선언과 동시에 초기화 해야한다.
  - null값 사용할 수 없다
  - 로컬 변수에만 선언 가능하다
  - lambda Expression을 담을 때는 명시적으로 타입 지정해야 한다
  - 배열 선언시 타입 명시해야한다

```java
var a = "123"; // String a = "123";
var b = 20; // int b = 10;
```

---

### 질문

- 타입 추론



### 참조

- Java의 정석 3rd Edition