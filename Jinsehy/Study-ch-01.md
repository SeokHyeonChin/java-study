# <strong>1. JVM 개요 

## <strong>1.1 JVM이란 무엇인가

> 자바 가상 머신(영어: Java Virtual Machine, JVM)은 자바 바이트코드를 실행할 수 있는 주체이다. 일반적으로 인터프리터나 JIT 컴파일 방식으로 다른 컴퓨터 위에서 바이트코드를 실행할 수 있도록 구현되나 jop 자바 프로세서처럼 하드웨어와 소프트웨어를 혼합해 구현하는 경우도 있다. (이론적으로는 100% 하드웨어 구현도 가능하나 비효율적이다) 자바 바이트코드는 플랫폼에 독립적이며 모든 자바 가상 머신은 자바 가상 머신 규격에 정의된 대로 자바 바이트코드를 실행한다. 따라서 표준 자바 API까지 동일한 동작을 하도록 구현한 상태에서는 이론적으로 모든 자바 프로그램은 CPU나 운영 체제의 종류와 무관하게 동일하게 동작할 것을 보장한다. _-Wikipedia_

위는 위키피디아에 정리된 내용이다. 간단히 생각하면, 자바 코드를 실행하기위해 JVM이 반드시 필요하며, 이 JVM이라는 가상머신을 사용하기에 자바 코드가 Window나 Ubuntu, macOS 등의 운영체제에 구애받지 않고 어디서나 실행이 가능하다. 이전까지는 CPU나 OS 등과 프로그래밍언어가 종속적이었기때문에, 1995년에 자바가 공개되었을때는 큰 혁신이었다. 

이 당시 JVM의 가장 큰 특징은 메모리 관리 기능을 제공하는 것이었으며, 흔히들 `가비지 컬렉션(Garbage Collection)`이라고 알고 있는 기능이다. 이 이전의 C와 같은 언어는 프로그래머가 메모리를 관리해야 했었다(malloc함수와 free함수). 하지만 자바는 JVM이 제공하는 가비지 컬렉션 프로세스를 통해 내부적으로 사용되지 않는 메모리를 찾아내고 제거, 사용자에게 큰 편리함을 제공해준다. 

```
물론 최근에는 도커와 같은 컨테이너 기술을 통해 가벼운 Cost로 환경이나 라이브러리의 제약없이 프로그램을 돌릴 수 있으며, Python, Go, C# 등의 언어에서 가비지 컬렉션 기능을 만나볼 수 있다. 지금 보기에는 JVM이 크게 매력적인 기술은 아닐지라도, 현재까지도 Java는 많은 IT기업에서 사용하는 주요 언어 중 하나이다.
```

<br><br><br>

## <strong>1.2 자바의 컴파일부터 실행까지

1. 개발자가 자바 소스코드(.java) 작성
2. 자바 컴파일러가 자바 소스코드 파일을 컴파일하여 자바 바이트코드(.class) 파일로 변환. 이때 컴파일러는 전체 소스코드를 모두 바이트코드로 바꿔주는 역할을 한다.
3. 컴파일된 바이트 코드를 JVM의 클래스로더(Class Loader)로 전달
4. 클래스 로더는 동적로딩을 통해 필요한 클래스들을 로딩 및 링크하여 런타임 데이터 영역, 즉 JVM의 메모리에 올림.
5. 실행엔진(Execution Engine)이 JVM 메모리에 올라온 바이트코드들을 명령어 단위로 하나씩 가져와 기계어로 번역되어 실행한다. 이때 실행 방법은 인터프리터 방식과 JIT 컴파일러 방식이 있다. 인터프리터는 바이트코드를 한줄씩 읽고 바로 기계어로 변환 후 실행한다.
   
<br><br><br>

## <strong>1.4 바이트코드란?
>바이트코드(Bytecode, portable code, p-code)는 특정 하드웨어가 아닌 가상 컴퓨터에서 돌아가는 실행 프로그램을 위한 이진 표현법이다. 하드웨어가 아닌 소프트웨어에 의해 처리되기 때문에, 보통 기계어보다 더 추상적이다. -_Wikipedia_

바이트코드는 쉽게말해서 JVM이 이해할 수 있는 언어이다.

<br><br><br>

## <strong>1.5 JIT 컴파일러(Just-In Time Compiler)란?
자바는 OS 종속성을 없애기 위해 JVM이 이해할 수 있는 언어인 바이트코드로 변환하는 과정이 추가되었다. 이 때문에, 기존의 인터프리터 방식에서는 자바 프로그램의 실행 속도가 현저히 떨어진다.

인터프리터의 단점을 보완하기 위해 JIT 컴파일러 방식이 도입되었는데, 런타임 과정에서 실행할 바이트 코드 전체를 컴파일하여 바이너리 코드로 변경하고 

이후에는 해당 메서드를 더 이상 인터프리팅 하지 않고, 바이너리 코드로 직접 실행하는 방식이다. 하나씩 인터프리팅하여 실행하는 것이 아니라 바이트 코드 전체가 컴파일된 바이너리 코드를 실행하는 것이기 때문에 전체적인 실행속도는 인터프리팅 방식보다 빠르다.

<br><br><br>

## <strong>1.6 JVM 구성 요소

JVM은 Class Loader, Execution Engine, Interpreter, Garbage Collector로 이루어져있다.

* Class Loader

* Execution Engine

* Interpreter

* Garbage Collector

<br><br><br>

## <strong>1.7 JDK와 JRE의 차이
`JRE(Java Runtime Environment`는 HelloWorld.class 파일을 JVM으로 로딩시키는 역할을 한다. JVM은 바이트코드 파일을 해석해 실행할 수 있는 상태로 만든다. 한마디로 자바 프로그램이 실행되기 위한 최소환경이다. 자바 프로그램을 개발하지 않고 실행만 시킬 거라면 JRE만 있으면 된다.

`JDK(Java Developement Kit)`은 자바 환경에서 돌아가는 프로그램을 개발하는 데 필요한 툴들을 모아놓은 소프트웨어 패키지이다. 그러므로 Java 프로그래밍을 하기 위해서는 JDK를 설치해야 한다. 즉, 자바 프로그램을 만들고 실행시키기 위한 패키지이므로 JDK안에는 JRE가 포함되어 있다.

<br><br><br>

## Question
어떤 이유에서 아직도 Java가 널리 쓰이는 것인가? 단순히 이전부터 많이 써왔기 때문에?

<br><br><br>

## Reference

### JVM
https://ko.wikipedia.org/wiki/%EC%9E%90%EB%B0%94_%EA%B0%80%EC%83%81_%EB%A8%B8%EC%8B%A0

https://ko.wikipedia.org/wiki/%EB%B0%94%EC%9D%B4%ED%8A%B8%EC%BD%94%EB%93%9C

https://velog.io/@woo00oo/%EC%9E%90%EB%B0%94-%EC%BB%B4%ED%8C%8C%EC%9D%BC-%EA%B3%BC%EC%A0%95

https://www.itworld.co.kr/news/110837



